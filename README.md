# Flask PostgreSQL Project

This is a simple Flask application integrated with a PostgreSQL database. The application allows adding email details to a queue via a POST request and stores the information in the database.

## Project Structure

```
flask_postgresql_project/
│
├── app/
│   ├── __init__.py           # Application factory and app setup
│   ├── models.py             # SQLAlchemy models
│   ├── routes.py             # Routes and view functions
│
├── migrations/               # Database migration files
│   ├── ... (auto-generated by Flask-Migrate)
│
├── config.py                 # Configuration file
│
├── app.py                    # Main entry point of the application
│
└── venv/                     # Virtual environment (excluded from version control)
```

## Requirements

- Python 3.x
- PostgreSQL
- Virtualenv

## Setup Instructions

### 1. Clone the Repository

```bash
git clone https://github.com/yudi-prasetyo/jublia-test.git
cd jublia-test
```

### 2. Set Up a Virtual Environment

```bash
python3 -m venv venv
source venv/bin/activate  # On Windows use `venv\Scripts\activate`
```

### 3. Install Dependencies

```bash
pip install -r requirements.txt
```

### 4. Configure PostgreSQL

- Ensure you have PostgreSQL installed and running.
- Create a PostgreSQL database:

```sql
CREATE DATABASE yourdatabase;
```

- Update the database URI in `config.py`:

```python
SQLALCHEMY_DATABASE_URI = 'postgresql://username:password@localhost:5432/yourdatabase'
```

### 5. Set Up the Database

Initialize the database and apply migrations:

```bash
flask db init
flask db migrate -m "Initial migration."
flask db upgrade
```

### 6. Run the Application

```bash
python app.py
```

The application will be accessible at `http://127.0.0.1:5000`.

### 7. Testing the POST Endpoint

To test the `/add_email` endpoint, you can use `curl` or Postman. Here's an example with `curl`:

```bash
curl -X POST http://127.0.0.1:5000/add_email \
-H "Content-Type: application/json" \
-d '{"email_subject": "Test Email", "email_content": "This is a test email."}'
```

## Features

- **Database Integration**: Uses PostgreSQL with SQLAlchemy ORM.
- **Migrations**: Database migrations are handled using Flask-Migrate.
- **REST API**: Simple RESTful API to add emails to a queue.

## Project Dependencies

- Flask
- Flask-SQLAlchemy
- Flask-Migrate
- psycopg2-binary
- python-dotenv

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please open an issue or submit a pull request with any features, bug fixes, or improvements.

## Contact

If you have any questions, feel free to reach out to the project maintainer at `your-email@example.com`.

```

### Explanation:

- **Project Structure**: Outlines the directory structure of the project.
- **Setup Instructions**: Provides a step-by-step guide on how to set up and run the project.
- **Features**: Highlights the main features of the project.
- **Dependencies**: Lists the primary Python packages used.
- **License and Contributing**: Specifies the licensing and how others can contribute.

This `README.md` file gives a clear overview of your project, how to set it up, and how to use it. You can customize the content as needed, especially with the correct repository link, email, and additional features if applicable.